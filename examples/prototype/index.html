<!doctype html>
<html>
<head>
<script src="../../base/core.js"></script>
<script src="../../base/Factory.js"></script>
<script src="../../base/Prototype.js"></script>
<script src="js/VehiclePrototypeFactory.js"></script>
<script src="js/Vehicle.js"></script>

<script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>

</head>
<body>

  <div id="vehicles"></div>

  <script>
      var vehiclesCfg = [ 'Car', 'Truck', 'Truck', 'Car', 'Truck', 'Car', 'Bike', 'Bike', 'Truck' ];
      var vehicles = [];

      function showInDom(vehicle) {
        var $p = $('<p>');
        $p.text(vehicle.getSignature());
        $('#vehicles').append($p);
      }

      try {
        var factories = {
          'Car' : new VehiclePrototypeFactory(Car),
          'Truck' : new VehiclePrototypeFactory(Truck),
          'Bike' : new VehiclePrototypeFactory(Bike)
        };

        vehiclesCfg.forEach(function(vehicleType) {
          var newVehicle = factories[vehicleType].make();
          vehicles.push(newVehicle);

          // Add it to the DOM
          showInDom(newVehicle);
        })
        console.log(vehicles);
      } catch (e) {
        console.log(e);
      }
    </script>

</body>
</html>